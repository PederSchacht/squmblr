- rating = (current_user && current_user.ratings.where(post: post).first) || Rating.new(post: post)
.positive
  = form_for rating, remote: true do |f|
    = f.hidden_field :post_id
    = f.hidden_field :opinion, :value => 1
    = f.submit 'Positive'
  = post.rating_count('positive')
.neutral
  = form_for rating, remote: true do |f|
    = f.hidden_field :post_id
    = f.hidden_field :opinion, :value => 0
    = f.submit 'Neutral'
  = post.rating_count('neutral')
.negative
  = form_for rating, remote: true do |f|
    = f.hidden_field :post_id
    = f.hidden_field :opinion, :value => -1
    = f.submit 'Negative'
  = post.rating_count('negative')
